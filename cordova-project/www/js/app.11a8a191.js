(function(t){function e(e){for(var r,n,s=e[0],c=e[1],l=e[2],u=0,d=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,n=1;n<a.length;n++){var s=a[n];0!==o[s]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},n={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({camera:"camera","login~register~upload":"login~register~upload",login:"login",register:"register",upload:"upload"}[t]||t)+"."+{camera:"1cb96d33","login~register~upload":"aa9c1c9a",login:"fae8901b",register:"39ee17d8",upload:"8947a0f6"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={camera:1,"login~register~upload":1,upload:1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var r="css/"+({camera:"camera","login~register~upload":"login~register~upload",login:"login",register:"register",upload:"upload"}[t]||t)+"."+{camera:"1f2f8b44","login~register~upload":"87484932",login:"31d6cfe0",register:"31d6cfe0",upload:"a3a349e2"}[t]+".css",o=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===o))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===r||u===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete n[t],p.parentNode.removeChild(p),a(i)},p.href=o;var v=document.getElementsByTagName("head")[0];v.appendChild(p)})).then((function(){n[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,a){r=o[t]=[e,a]}));e.push(r[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=o[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,a[1](d)}o[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2147:function(t,e,a){"use strict";a("ac1f"),a("1276");e["a"]={userName:null,uid:null,getUserName:function(){return this.userName.split("@")[0]},getUserEmail:function(){return this.userName},getUserId:function(){return this.uid}}},"21bb":function(t,e,a){"use strict";var r=a("d63f"),n=a.n(r);n.a},"3b38":function(t,e,a){"use strict";e["a"]={capturedImage:null,setCapturedImage:function(t){this.capturedImage=t}}},"53ec":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:"","hide-on-scroll":""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("div",{staticClass:"d-flex align-center"},[a("router-link",{staticClass:"no-format",attrs:{to:"/"}},[a("h1",[t._v("Pictshare")])])],1),a("v-spacer")],1),a("v-navigation-drawer",{attrs:{fixed:"",left:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[t._v("Pictshare")]),t.userName?a("v-list-item-subtitle",[t._v(t._s(t.userName))]):t._e(),t.userName?t._e():a("v-list-item-subtitle",[t._v("Not logged in")])],1)],1),a("v-divider"),a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.openHome(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Home")])],1)],1),t.userName?a("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Logout")])],1)],1):t._e(),t.userName?t._e():a("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.openLogin(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Login")])],1)],1),t.userName?t._e():a("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.openRegister(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-lock-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Register")])],1)],1)],1)],1),a("v-content",[a("transition",{attrs:{name:"fade-up",mode:"out-in"}},[a("router-view",{on:{errorMsg:t.onError,successMsg:t.onSuccess}})],1)],1),a("v-snackbar",{attrs:{color:t.snackbarColor,outline:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" "),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("OK")])],1)],1)},o=[],i=a("59ca"),s=a.n(i),c=(a("ea7b"),a("2147")),l={name:"App",methods:{onError:function(t){this.snackbar=!0,this.snackbarText=t,this.snackbarColor="error"},onSuccess:function(t){this.snackbar=!0,this.snackbarText=t,this.snackbarColor="success"},openLogin:function(){this.drawer=!1,this.$router.push("/login")},openRegister:function(){this.drawer=!1,this.$router.push("/register")},openHome:function(){this.drawer=!1,this.$router.push("/")},logout:function(){var t=this;s.a.auth().signOut().then((function(){t.onSuccess("User logged out")})).catch((function(e){t.onError("Fehler: ".concat(e))}))},authStateChanged:function(t){t?(this.userName=t.email,c["a"].userName=t.email,c["a"].uid=t.uid):(this.userName=null,c["a"].userName=null,c["a"].uid=null)}},mounted:function(){s.a.auth().onAuthStateChanged(this.authStateChanged),navigator.splashscreen&&navigator.splashscreen.hide()},data:function(){return{drawer:null,snackbar:!1,snackbarText:"",snackbarColor:"info",userName:null}}},u=l,d=(a("da72"),a("2877")),p=a("6544"),v=a.n(p),f=a("7496"),m=a("40dc"),g=a("5bc1"),h=a("8336"),b=a("a75b"),_=a("ce7e"),k=a("132d"),y=a("8860"),x=a("da13"),C=a("5d23"),w=a("34c3"),V=a("f774"),I=a("2db4"),P=a("2fa4"),S=Object(d["a"])(u,n,o,!1,null,"4ee784b6",null),O=S.exports;v()(S,{VApp:f["a"],VAppBar:m["a"],VAppBarNavIcon:g["a"],VBtn:h["a"],VContent:b["a"],VDivider:_["a"],VIcon:k["a"],VList:y["a"],VListItem:x["a"],VListItemContent:C["a"],VListItemIcon:w["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VNavigationDrawer:V["a"],VSnackbar:I["a"],VSpacer:P["a"]});a("5363"),a("d3b7");var N=a("8c4f"),L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[t.isLoading?a("v-row",t._l(4,(function(t){return a("v-col",{key:t,attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[a("v-skeleton-loader",{ref:"skeleton",refInFor:!0,staticClass:"mx-auto",attrs:{type:"card",elevation:"4"}})],1)})),1):t._e(),a("v-row",t._l(t.postArray,(function(e){return a("Post",{key:e.keyId,attrs:{post:e},on:{errorMsg:function(e){return t.$emit("errorMsg",e)},successMsg:function(e){return t.$emit("successMsg",e)}}})})),1),a("v-speed-dial",{attrs:{bottom:"",right:"",fixed:"",direction:"top",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"secondary",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.fab?a("v-icon",[t._v("mdi-close")]):a("v-icon",[t._v("mdi-plus")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-tooltip",{attrs:{transition:"scroll-x-transition",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{fab:"",dark:"",small:"",color:"orange"},on:{click:function(e){return e.stopPropagation(),t.openUpload(e)}}},r),[a("v-icon",[t._v("mdi-plus")])],1)]}}])},[a("span",[t._v("Bild Aufnehmen")])]),a("v-tooltip",{attrs:{transition:"scroll-x-transition",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{fab:"",dark:"",small:"",color:"red"}},r),[a("v-icon",[t._v("mdi-paperclip")]),a("input",{staticClass:"file-input-invisible",attrs:{type:"file",accept:"image/*"},on:{change:t.uploadFile}})],1)]}}])},[a("span",[t._v("Bild Hochladen")])])],1)],1)},A=[],E=(a("d81d"),a("26e9"),a("b64b"),a("bc76")),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticClass:"post",attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[a("v-card",{key:t.post.keyId,staticClass:"mx-auto",attrs:{"max-width":"500",elevation:"4"}},[a("v-img",{staticClass:"white--text align-end",attrs:{height:"400px",src:t.post.image,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"},on:{click:t.openPost}},[a("v-card-title",[t._v(t._s(t.post.title))])],1),a("v-card-subtitle",[a("v-chip",{staticClass:"chip-margin",attrs:{pill:"",color:t.deletable?"primary":"primary--text"}},[a("v-icon",{attrs:{left:"",color:"primary-text"}},[t._v("mdi-account")]),t._v(" "+t._s(t.post.username)+" ")],1)],1),t.post.categories?a("v-card-text",{staticClass:"text--primary"},[a("div",t._l(t.post.categories,(function(e,r){return a("v-chip",{key:r,staticClass:"chip-margin",attrs:{color:"primary",outlined:""}},[t._v(t._s(e))])})),1)]):t._e(),a("v-card-actions",[a("v-btn",{attrs:{color:"secondary",text:""},on:{click:t.openPost}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-open-in-new")]),t._v("Open ")],1),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){return t.share(t.post.title,t.post.description,t.post.image)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-share-variant")]),t._v("Share ")],1),t.deletable?a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){return t.deletePrompt(t.post.keyId,t.post.uid)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),t._v("Delete ")],1):t._e()],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Post löschen?")]),a("v-card-text",[t._v("Möchten Sie diesen Post wirklich löschen?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Abbrechen")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){return t.deleteEntry(t.post.keyId)}}},[t._v("Löschen")])],1)],1)],1),a("v-dialog",{staticClass:"post-fullscreen",attrs:{transition:"dialog-bottom-transition"},model:{value:t.postOpen,callback:function(e){t.postOpen=e},expression:"postOpen"}},[a("v-card",{staticClass:"post-fullscreen-card"},[a("v-toolbar",{staticClass:"post-toolbar",attrs:{dark:"",width:"100%",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.postOpen=!1}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v(t._s(t.post.title))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},on:{click:function(e){return t.share(t.post.title,t.post.description,t.post.image)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-share-variant")]),t._v("Share ")],1),t.deletable?a("v-btn",{attrs:{text:""},on:{click:function(e){return t.deletePrompt(t.post.keyId,t.post.uid)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),t._v("Delete ")],1):t._e()],1)],1),a("v-img",{staticClass:"white--text align-end post-img",attrs:{src:t.post.image}}),a("v-card-title",[a("v-chip",{staticClass:"chip-margin",attrs:{pill:"",small:""}},[a("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-account")]),t._v(" "+t._s(t.post.username)+" ")],1)],1),t.post.categories?a("v-card-text",{staticClass:"text--primary"},[a("div",t._l(t.post.categories,(function(e,r){return a("v-chip",{key:r,staticClass:"chip-margin",attrs:{color:"primary",small:"",outlined:""}},[t._v(t._s(e))])})),1)]):t._e()],1)],1)],1)},j=[],D=(a("99af"),{name:"post",data:function(){return{deleteDialog:!1,postOpen:!1}},computed:{deletable:function(){return c["a"].getUserId()===this.post.uid}},props:{post:Object},methods:{openPost:function(){this.postOpen=!0},deleteEntry:function(t){var e=this;E["a"].db.ref("posts/".concat(t)).remove().then((function(){e.$emit("successMsg","Post gelöscht")}),(function(t){e.$emit("errorMsg","Fehler: ".concat(t))}))},deletePrompt:function(t,e){c["a"].getUserId()===e?this.deleteDialog=!0:this.$emit("errorMsg","Fehler: Keine Berechtigung")},share:function(t,e,a){try{navigator.share("".concat(e," ").concat(a),t,"text/plain")}catch(r){this.$emit("errorMsg",r)}}}}),$=D,M=(a("7fd1"),a("b0af")),B=a("99d9"),U=a("cc20"),F=a("62ad"),R=a("169a"),H=a("adda"),K=a("71d9"),G=a("2a7f"),q=Object(d["a"])($,T,j,!1,null,"4c9846ae",null),z=q.exports;v()(q,{VBtn:h["a"],VCard:M["a"],VCardActions:B["a"],VCardSubtitle:B["b"],VCardText:B["c"],VCardTitle:B["d"],VChip:U["a"],VCol:F["a"],VDialog:R["a"],VIcon:k["a"],VImg:H["a"],VSpacer:P["a"],VToolbar:K["a"],VToolbarItems:G["a"],VToolbarTitle:G["b"]});var J=a("3b38"),Q={name:"Home",components:{Post:z},data:function(){return{posts:{},fab:!1}},computed:{postArray:function(){var t=this;return Object.keys(this.posts).map((function(e){var a=t.posts[e];if(a)return a.keyId=e,a})).reverse()},isLoading:function(){return this.postArray.length<=0}},methods:{openUpload:function(){c["a"].getUserEmail()?this.$router.push("/camera"):(this.$emit("errorMsg","Nicht eingeloggt"),this.$router.push("/login"))},uploadFile:function(t){var e=this,a=t.target.files[0],r=new FileReader;r.addEventListener("load",(function(){J["a"].setCapturedImage(r.result),e.$router.push("upload")})),a&&r.readAsDataURL(a)}},firebase:{posts:E["a"].db.ref("posts")}},W=Q,X=(a("21bb"),a("a523")),Y=a("0fd9"),Z=a("3129"),tt=a("c73b"),et=a("3a2f"),at=Object(d["a"])(W,L,A,!1,null,null,null),rt=at.exports;v()(at,{VBtn:h["a"],VCol:F["a"],VContainer:X["a"],VIcon:k["a"],VRow:Y["a"],VSkeletonLoader:Z["a"],VSpeedDial:tt["a"],VTooltip:et["a"]}),r["a"].use(N["a"]);var nt=[{path:"/",name:"home",component:rt},{path:"/login",name:"login",component:function(){return Promise.all([a.e("login~register~upload"),a.e("login")]).then(a.bind(null,"d4e9"))}},{path:"/register",name:"register",component:function(){return Promise.all([a.e("login~register~upload"),a.e("register")]).then(a.bind(null,"d55a"))}},{path:"/upload",name:"upload",component:function(){return Promise.all([a.e("login~register~upload"),a.e("upload")]).then(a.bind(null,"2679"))}},{path:"/camera",name:"camera",component:function(){return a.e("camera").then(a.bind(null,"6ec0"))}}],ot=new N["a"]({routes:nt}),it=ot,st=a("f309"),ct=a("0fe0"),lt=a.n(ct);r["a"].use(st["a"]);var ut=new st["a"]({lang:{locales:{de:lt.a},current:"de"},icons:{iconfont:"mdi"},theme:{dark:!0,themes:{dark:{primary:"#2ebf91",secondary:"#ff9800",accent:"#76d275",error:"#b71c1c"}}}}),dt=(a("d5e8"),a("0ff2"));r["a"].use(dt["a"]),r["a"].config.productionTip=!1,new r["a"]({router:it,vuetify:ut,render:function(t){return t(O)}}).$mount("#app")},"7a19":function(t,e,a){},"7fd1":function(t,e,a){"use strict";var r=a("53ec"),n=a.n(r);n.a},bc76:function(t,e,a){"use strict";var r=a("59ca"),n=a.n(r);a("66ce");e["a"]={db:n.a.initializeApp({apiKey:"AIzaSyD4DA6n10rK3wFkvrIGGGj2OLST8sVCe8E",authDomain:"pictshare-vue.firebaseapp.com",databaseURL:"https://pictshare-vue.firebaseio.com",projectId:"pictshare-vue",storageBucket:"pictshare-vue.appspot.com",messagingSenderId:"413048072789",appId:"1:413048072789:web:7ed1252f398a44fccf02dc"}).database()}},d63f:function(t,e,a){},da72:function(t,e,a){"use strict";var r=a("7a19"),n=a.n(r);n.a}});
//# sourceMappingURL=app.11a8a191.js.map