(function(t){function e(e){for(var a,n,s=e[0],c=e[1],l=e[2],u=0,d=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,n=1;n<r.length;n++){var s=r[n];0!==o[s]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=r[0]))}return t}var a={},n={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({camera:"camera","login~register~upload":"login~register~upload",login:"login",register:"register",upload:"upload"}[t]||t)+"."+{camera:"d06de320","login~register~upload":"aa9c1c9a",login:"fae8901b",register:"39ee17d8",upload:"5fd71d0b"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(t){var e=[],r={camera:1,"login~register~upload":1,upload:1};n[t]?e.push(n[t]):0!==n[t]&&r[t]&&e.push(n[t]=new Promise((function(e,r){for(var a="css/"+({camera:"camera","login~register~upload":"login~register~upload",login:"login",register:"register",upload:"upload"}[t]||t)+"."+{camera:"ebd729b4","login~register~upload":"87484932",login:"31d6cfe0",register:"31d6cfe0",upload:"a38ae31a"}[t]+".css",o=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===o))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===a||u===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete n[t],p.parentNode.removeChild(p),r(i)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){n[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,r){a=o[t]=[e,r]}));e.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var r=o[t];if(0!==r){if(r){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,r[1](d)}o[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(r,a,function(e){return t[e]}.bind(null,a));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},2147:function(t,e,r){"use strict";r("ac1f"),r("1276");e["a"]={userName:null,uid:null,getUserName:function(){return this.userName.split("@")[0]},getUserEmail:function(){return this.userName},getUserId:function(){return this.uid}}},"2bda":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),r("div",{staticClass:"d-flex align-center"},[r("router-link",{staticClass:"no-format",attrs:{to:"/"}},[r("h1",[t._v("Pictshare")])])],1),r("v-spacer")],1),r("v-navigation-drawer",{attrs:{fixed:"",left:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",{staticClass:"title"},[t._v("Pictshare")]),t.userName?r("v-list-item-subtitle",[t._v(t._s(t.userName))]):t._e(),t.userName?t._e():r("v-list-item-subtitle",[t._v("Not logged in")])],1)],1),r("v-divider"),r("v-list",{attrs:{nav:"",dense:""}},[r("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.openHome(e)}}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-home-outline")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Home")])],1)],1),t.userName?r("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-account-outline")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Logout")])],1)],1):t._e(),t.userName?t._e():r("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.openLogin(e)}}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-account-outline")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Login")])],1)],1),t.userName?t._e():r("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.openRegister(e)}}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-lock-outline")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Register")])],1)],1)],1)],1),r("v-content",[r("transition",{attrs:{name:"fade-up",mode:"out-in"}},[r("router-view",{on:{errorMsg:t.onError,successMsg:t.onSuccess}})],1)],1),r("v-snackbar",{attrs:{color:t.snackbarColor,outline:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" "),r("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("OK")])],1)],1)},o=[],i=r("59ca"),s=r.n(i),c=(r("ea7b"),r("2147")),l={name:"App",methods:{onError:function(t){this.snackbar=!0,this.snackbarText=t,this.snackbarColor="error"},onSuccess:function(t){this.snackbar=!0,this.snackbarText=t,this.snackbarColor="success"},openLogin:function(){this.drawer=!1,this.$router.push("/login")},openRegister:function(){this.drawer=!1,this.$router.push("/register")},openHome:function(){this.drawer=!1,this.$router.push("/")},logout:function(){var t=this;s.a.auth().signOut().then((function(){t.onSuccess("User logged out")})).catch((function(e){t.onError("Fehler: ".concat(e))}))},authStateChanged:function(t){t?(this.userName=t.email,c["a"].userName=t.email,c["a"].uid=t.uid):(this.userName=null,c["a"].userName=null,c["a"].uid=null)}},mounted:function(){s.a.auth().onAuthStateChanged(this.authStateChanged),navigator.splashscreen&&navigator.splashscreen.hide()},data:function(){return{drawer:null,snackbar:!1,snackbarText:"",snackbarColor:"info",userName:null}}},u=l,d=(r("92d2"),r("2877")),p=r("6544"),m=r.n(p),v=r("7496"),f=r("40dc"),g=r("5bc1"),h=r("8336"),b=r("a75b"),_=r("ce7e"),k=r("132d"),y=r("8860"),x=r("da13"),C=r("5d23"),w=r("34c3"),V=r("f774"),P=r("2db4"),I=r("2fa4"),O=Object(d["a"])(u,n,o,!1,null,"7a114acf",null),S=O.exports;m()(O,{VApp:v["a"],VAppBar:f["a"],VAppBarNavIcon:g["a"],VBtn:h["a"],VContent:b["a"],VDivider:_["a"],VIcon:k["a"],VList:y["a"],VListItem:x["a"],VListItemContent:C["a"],VListItemIcon:w["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VNavigationDrawer:V["a"],VSnackbar:P["a"],VSpacer:I["a"]});r("5363"),r("d3b7");var N=r("8c4f"),L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[t.isLoading?r("v-row",t._l(4,(function(t){return r("v-col",{key:t,attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[r("v-skeleton-loader",{ref:"skeleton",refInFor:!0,staticClass:"mx-auto",attrs:{type:"card",elevation:"4"}})],1)})),1):t._e(),r("v-row",t._l(t.postArray,(function(e){return r("Post",{key:e.keyId,attrs:{post:e},on:{errorMsg:function(e){return t.$emit("errorMsg",e)},successMsg:function(e){return t.$emit("successMsg",e)}}})})),1),r("v-btn",{attrs:{fab:"",fixed:"",bottom:"",right:""},on:{click:function(e){return e.stopPropagation(),t.openUpload(e)}}},[r("v-icon",[t._v("mdi-plus")])],1)],1)},E=[],T=(r("d81d"),r("26e9"),r("b64b"),r("bc76")),A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-col",{staticClass:"post",attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[r("v-card",{key:t.post.keyId,staticClass:"mx-auto",attrs:{"max-width":"500",elevation:"4"}},[r("v-img",{staticClass:"white--text align-end",attrs:{height:"400px",src:t.post.image,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"},on:{click:t.openPost}},[r("v-card-title",[t._v(t._s(t.post.title))])],1),r("v-card-subtitle",[r("v-chip",{staticClass:"chip-margin",attrs:{pill:"",small:""}},[r("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-account")]),t._v(" "+t._s(t.post.username)+" ")],1)],1),t.post.categories?r("v-card-text",{staticClass:"text--primary"},[r("div",t._l(t.post.categories,(function(e,a){return r("v-chip",{key:a,staticClass:"chip-margin",attrs:{color:"primary",small:"",outlined:""}},[t._v(t._s(e))])})),1)]):t._e(),r("v-card-actions",[r("v-btn",{attrs:{color:"orange",text:""},on:{click:t.openPost}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-open-in-new")]),t._v("Open ")],1),r("v-btn",{attrs:{color:"orange",text:""},on:{click:function(e){return t.share(t.post.title,t.post.description,t.post.image)}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-share-variant")]),t._v("Share ")],1),t.deletable?r("v-btn",{attrs:{color:"orange",text:""},on:{click:function(e){return t.deletePrompt(t.post.keyId,t.post.uid)}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),t._v("Delete ")],1):t._e()],1)],1),r("v-dialog",{attrs:{"max-width":"290"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Post löschen?")]),r("v-card-text",[t._v("Möchten Sie diesen Post wirklich löschen?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Abbrechen")]),r("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){return t.deleteEntry(t.post.keyId)}}},[t._v("Löschen")])],1)],1)],1),r("v-dialog",{staticClass:"post-fullscreen",attrs:{transition:"dialog-bottom-transition"},model:{value:t.postOpen,callback:function(e){t.postOpen=e},expression:"postOpen"}},[r("v-card",{staticClass:"post-fullscreen-card"},[r("v-toolbar",{staticClass:"post-toolbar",attrs:{dark:"",width:"100%",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.postOpen=!1}}},[r("v-icon",[t._v("mdi-close")])],1),r("v-toolbar-title",[t._v(t._s(t.post.title))]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{text:""},on:{click:function(e){return t.share(t.post.title,t.post.description,t.post.image)}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-share-variant")]),t._v("Share ")],1),t.deletable?r("v-btn",{attrs:{text:""},on:{click:function(e){return t.deletePrompt(t.post.keyId,t.post.uid)}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),t._v("Delete ")],1):t._e()],1)],1),r("v-img",{staticClass:"white--text align-end post-img",attrs:{src:t.post.image}}),r("v-card-title",[r("v-chip",{staticClass:"chip-margin",attrs:{pill:"",small:""}},[r("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-account")]),t._v(" "+t._s(t.post.username)+" ")],1)],1),t.post.categories?r("v-card-text",{staticClass:"text--primary"},[r("div",t._l(t.post.categories,(function(e,a){return r("v-chip",{key:a,staticClass:"chip-margin",attrs:{color:"primary",small:"",outlined:""}},[t._v(t._s(e))])})),1)]):t._e()],1)],1)],1)},j=[],D=(r("99af"),{name:"post",data:function(){return{deleteDialog:!1,postOpen:!1}},computed:{deletable:function(){return c["a"].getUserId()===this.post.uid}},props:{post:Object},methods:{openPost:function(){this.postOpen=!0},deleteEntry:function(t){var e=this;T["a"].db.ref("posts/".concat(t)).remove().then((function(){e.$emit("successMsg","Post gelöscht")}),(function(t){e.$emit("errorMsg","Fehler: ".concat(t))}))},deletePrompt:function(t,e){c["a"].getUserId()===e?this.deleteDialog=!0:this.$emit("errorMsg","Fehler: Keine Berechtigung")},share:function(t,e,r){try{navigator.share("".concat(e," ").concat(r),t,"text/plain")}catch(a){this.$emit("errorMsg",a)}}}}),M=D,$=(r("f81d"),r("b0af")),U=r("99d9"),B=r("cc20"),F=r("62ad"),H=r("169a"),K=r("adda"),R=r("71d9"),G=r("2a7f"),q=Object(d["a"])(M,A,j,!1,null,"6c889b42",null),z=q.exports;m()(q,{VBtn:h["a"],VCard:$["a"],VCardActions:U["a"],VCardSubtitle:U["b"],VCardText:U["c"],VCardTitle:U["d"],VChip:B["a"],VCol:F["a"],VDialog:H["a"],VIcon:k["a"],VImg:K["a"],VSpacer:I["a"],VToolbar:R["a"],VToolbarItems:G["a"],VToolbarTitle:G["b"]});var J={name:"Home",components:{Post:z},data:function(){return{posts:{}}},computed:{postArray:function(){var t=this;return Object.keys(this.posts).map((function(e){var r=t.posts[e];if(r)return r.keyId=e,r})).reverse()},isLoading:function(){return this.postArray.length<=0}},methods:{openUpload:function(){c["a"].getUserEmail()?this.$router.push("/camera"):(this.$emit("errorMsg","Nicht eingeloggt"),this.$router.push("/login"))}},firebase:{posts:T["a"].db.ref("posts")}},Q=J,W=(r("c0c1"),r("a523")),X=r("0fd9"),Y=r("3129"),Z=Object(d["a"])(Q,L,E,!1,null,"497c7a9a",null),tt=Z.exports;m()(Z,{VBtn:h["a"],VCol:F["a"],VContainer:W["a"],VIcon:k["a"],VRow:X["a"],VSkeletonLoader:Y["a"]}),a["a"].use(N["a"]);var et=[{path:"/",name:"home",component:tt},{path:"/login",name:"login",component:function(){return Promise.all([r.e("login~register~upload"),r.e("login")]).then(r.bind(null,"d4e9"))}},{path:"/register",name:"register",component:function(){return Promise.all([r.e("login~register~upload"),r.e("register")]).then(r.bind(null,"d55a"))}},{path:"/upload",name:"upload",component:function(){return Promise.all([r.e("login~register~upload"),r.e("upload")]).then(r.bind(null,"2679"))}},{path:"/camera",name:"camera",component:function(){return r.e("camera").then(r.bind(null,"6ec0"))}}],rt=new N["a"]({routes:et}),at=rt,nt=r("f309"),ot=r("0fe0"),it=r.n(ot);a["a"].use(nt["a"]);var st=new nt["a"]({lang:{locales:{de:it.a},current:"de"},icons:{iconfont:"mdi"},theme:{dark:!0,themes:{dark:{primary:"#2ebf91",secondary:"#8360c3",accent:"#76d275",error:"#b71c1c"}}}}),ct=(r("d5e8"),r("0ff2"));a["a"].use(ct["a"]),a["a"].config.productionTip=!1,new a["a"]({router:at,vuetify:st,render:function(t){return t(S)}}).$mount("#app")},"6f46":function(t,e,r){},"92d2":function(t,e,r){"use strict";var a=r("ab44"),n=r.n(a);n.a},ab44:function(t,e,r){},bc76:function(t,e,r){"use strict";var a=r("59ca"),n=r.n(a);r("66ce");e["a"]={db:n.a.initializeApp({apiKey:"AIzaSyD4DA6n10rK3wFkvrIGGGj2OLST8sVCe8E",authDomain:"pictshare-vue.firebaseapp.com",databaseURL:"https://pictshare-vue.firebaseio.com",projectId:"pictshare-vue",storageBucket:"pictshare-vue.appspot.com",messagingSenderId:"413048072789",appId:"1:413048072789:web:7ed1252f398a44fccf02dc"}).database()}},c0c1:function(t,e,r){"use strict";var a=r("6f46"),n=r.n(a);n.a},f81d:function(t,e,r){"use strict";var a=r("2bda"),n=r.n(a);n.a}});
//# sourceMappingURL=app.cb5d0121.js.map